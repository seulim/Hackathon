window.eModule=window.eModule||{},function(a,b){"use strict";function c(a,b,c,d){a[b]=null,a[b]=Array.isArray(c)&&"function"==typeof d?d.apply(this,c):d}b.globals={defined:function(a,b){var c=this;if(c[a])for(var d in c[a])c[a][d]=b[d];else c[a]=b;return this},regExp:{username:"^[a-z0-9_-]{4,12}$",password:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{6,12}$",hex:"^#?([a-f0-9]{6}|[a-f0-9]{3})$",email:"^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$",url:"^(https?:\\/\\/)?([\\da-z\\.-]+).([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$",ip:"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",letter:"[A-Za-z]+",number:"^[0-9]+$",number3:"^[0-9]{3}$",number4:"^[0-9]{4}$",plusOrMinus:"^[-+]?[0-9]+$",floating:"^[-+]?[0-9]+\\.[0-9]+$",dateformat:"^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$",phone:"^\\(?([0-9]{3})\\)?\\-?([0-9]{3,4})\\-?([0-9]{4})$",cardAmericanExpress:"^(?:3[47][0-9]{13})$",cardVisa:"^(?:4[0-9]{12}(?:[0-9]{3})?)$",cardMaster:"^(?:5[1-5][0-9]{14})$",cardDiscover:"^(?:6(?:011|5[0-9][0-9])[0-9]{12})$",cardDinersClub:"^(?:3(?:0[0-5]|[68][0-9])[0-9]{11})$",cardJCB:"^(?:(?:2131|1800|35\\d{3})\\d{11})$",continue4letter:"/(\\w)\\1\\1\\1/"}},b.utils={defined:function(a,b){return c(this,a,[],b),this},params:function(a){if(a)for(var b=a.split("&"),c={},d=0,e=b.length;e>d;d++){var f=b[d].split("=");c[f[0].toLowerCase()]=f[1]}else console.error("please checked str");return c},extend:function(a,b){for(var c in b)"undefined"!==b[c]&&null!==b[c]&&(a[c]="undefined"!==b[c]&&null!==b[c]?b[c]:"");return a},ajax:function(b,c){return a.jQuery?b?{get:function(){$.getJSON(b,c.data).done(function(a){c.successHandler&&c.successHandler(a)}).fail(function(a,b,c){console.log("[#response jqxhr] : "+a),console.log("[#response textStatus] : "+b),console.log("[#response error] : "+c)})},getp:function(){$.ajax({url:b,data:c.data,dataType:"jsonp"}).done(function(a){c.successHandler&&c.successHandler(a)}).fail(function(a,b,c){console.log("[#response error] : "+c)})},set:function(){$.post(b,c.data).done(function(a){c.successHandler&&c.successHandler(a)}).fail(function(a,b,c){console.log("[#response error] : "+c)})}}:void console.log("[#utils.ajax - error #01] url is not defined. please check url"):void console.log("[#utils.ajax - error #00] ")},errorHandler:function(a){var b={1:{K:"저장하지 못했습니다. 다시 시도해 주세요. ",E:"This message was not saved. Please try again."},2:{K:"게시판 사용 기간이 아닙니다.",E:": It is not the period to be able to use this board."},3:{K:"이미 글을 등록하셨습니다. ",E:"You've already written the same message."},4:{K:"하루 중복 등록 가능 회수를 넘었습니다.",E:"You can leave only one message in a day."},5:{K:"로그인 후 이용하실 수 있습니다. ",E:"Please, sign-in first."},"delete":{K:"삭제하지 못했습니다. 다시 시도해 주세요. ",E:"This message was not deleted. Please try again."},submit:{K:"글을 저장할 수 없습니다.",E:"The message can't be saved."}};return b[a]}},b.apps={defined:function(a,b,d){return c(this,a,b,d),this}}}(window,eModule),function(a,b){var c=b.globals;c.defined("boards",{sns:{table:'<div id="sns" class="sns_board"><div class="sns_write"></div><ul class="lst_sns"></ul><div id="paging" class="paginate"></div></div>',list:'<li data-bcid="{{BoardContentID}}" data-id="{{ID}}" class="{{isReply}}"><div class="lst_view"><div class="thmb" data-snsid="{{SnsUserName}}" data-snskind="{{snsKlass}}"><img src="{{SnsProfileImage}}" class="js-goto-sns" style="width:38px;height:38px;border:0"/></div><div class="tx"><em class="tx_uid"><span class="sns_{{snsKlass}}">{{snsName}}</span>{{SnsUserID}}&nbsp;</em><span class="tx_time">&nbsp;{{RegistDateTimeString}}</span><p class="tx_sns">{{Contents}}&nbsp;{{IsEnabledReply}}&nbsp;{{IsEnabledDelete}}&nbsp;</p></div></div></li>',reply:'<form action="/" method="post" name="reply"><div class="reply_area"><div class="sel_sns">{{snsBox}}</div><div class="thmb">{{profileImage}}</div><div class="write"><div class="is-visible"></div><textarea cols="30" rows="5" placeholder="{{placeholder}}"></textarea><p class="tx"><strong>0</strong>/{{maxLength}}</p><button class="btn_cfm js-submit-post">{{submit}}</button></div></div></form>',confirm:'<form action="/" method="post" name="post">{{isLogin}}<div class="write_area"><div class="sel_sns">{{snsBox}}</div><div class="thmb">{{profileImage}}</div><div class="write"><div class="is-visible"></div><textarea cols="30" rows="5" name="contents" placeholder="{{placeholder}}"></textarea><p class="tx"><strong>0</strong>/{{maxLength}}</p><button class="btn_cfm js-submit-post">{{submit}}</button></div></div></form>',emptyList:'<p class="sns_default">등록된 글이 없습니다.</p>',snsBox:'<input type="checkbox" class="input_chk js-selected-sns" data-snstype="{{kindType}}" name="sns" value="{{kindValue}}" {{checked}}/><label for="sns_{{kindId}}" class="sp_evt sns_{{kindId}} {{kindLogOn}}">{{kindName}}</label>',profileImage:'<a href="#" class="btn prev {{disable}} js-change-profileimage"><span class="sp_evt">이전 이미지</span></a><img src="{{profileImageUrl}}" class="js-move-usersns" style="{{width}};{{height}};border:0"/><a href="#" class="btn next {{disable}} js-change-profileimage" ><span class="sp_evt">다음 이미지</span></a>',profileImageReply:'<img src="{{profileImageUrl}}" class="js-move-usersns" style="{{width}};{{height}};border:0"/>',snsDatas:'<input type="hidden" name="snsKind" value="{{kind}}"/><input type="hidden" name="snsUserID" value="{{userId}}"/><input type="hidden" name="snsProfileImage" value="{{perfileImage}}"/><input type="hidden" name="snsUserName" value="{{userName}}"/>',buttons:{reply:'<button class="btn_reply js-open-reply"><span>{{replyButton}}</span></button>',del:'<button class="btn_del js-delete-post"><span>{{deleteButton}}</span></button>'},icons:{errorThumnailImageUrl:"http://image.gmarket.co.kr/challenge/neo_total_board/sns/img_45.gif",profileImage:{post:"http://image.gmarket.co.kr/event/bbs/68x68_img.gif",reply:"http://image.gmarket.co.kr/event/bbs/43x43_none_img.gif"}}}})}(window,eModule),function(a,b){var c=b.globals;c.defined("snsAttributes",{FB:{kindId:"f",kindClass:"f",kindType:"FB",kindValue:"facebook",kindName:"페이스북",kindUrl:"http://m.facebook.com"},TW:{kindId:"t",kindClass:"t",kindType:"TW",kindValue:"twitter",kindName:"트위터",kindUrl:"http://m.twitter.com"}})}(window,eModule),function(a,b){var c=b.globals;c.defined("fcd",{A:706200001,BApp:706200002,BNext:706200003})}(window,eModule),function(a,b){var c=b.utils;c.defined("api",function(){var a={all:function(a){c.ajax("/Board/GetBy",a).get()},list:function(a){c.ajax("/BoardContent/GetBy",a).get()},del:function(a){c.ajax("/BoardContent/Remove",a).set()},postSubmit:function(a){c.ajax("/BoardContent/Add",a).set()},logout:function(){}};return{snsBoard:{all:function(b){a.all(b)},list:function(b){a.list(b)},del:function(b){a.del(b)},postSubmit:function(b){a.postSubmit(b)},logout:function(b){a.logout(b)}}}})}(window,eModule),function(a,b){"use strict";var c=b.utils;c.defined("cookie",function(){return{set:function(a,b,c){var d=new Date,e="expires=";d.setTime(d.getTime()+24*(c?c:1)*60*60*1e3),e+=d.toGMTString(),document.cookie=a+"="+b+"; path=/;domain=gmarket.co.kr; "+e},get:function(a){if(a)for(var b=a+"=",c=document.cookie.split(";"),d=0,e=c.length;e>d;d++)for(var f=c[d];" "==f.charAt(0);)if(f=f.substring(1),-1!=f.indexOf(b))return f.substring(b.length,f.length);return""}}})}(window,eModule),function(a,b){"use strict";var c=b.utils;c.defined("observableArray",function(){function a(a){function b(a){a in c||Object.defineProperty(c,a,{configurable:!0,enumerable:!0,get:function(){return d[a]},set:function(b){d[a]=b,"function"==typeof c.onItemSet&&c.onItemSet(a,b)}})}var c=this,d=[];c.onItemAdded=null,c.onItemSet=null,c.onItemRemoved=null,c.push=function(){for(var a,e=0,f=arguments.length;f>e;e++)a=d.length,d.push(arguments[e]),b(a),"function"==typeof c.onItemAdded&&c.onItemAdded(a,arguments[e]);return d.length},c.pop=function(){if(~d.length){var a=d.length-1,b=d.pop();return delete c[a],"function"==typeof c.onItemRemoved&&c.onItemRemoved(a,b),b}},c.unshift=function(){for(var a=0,e=arguments.length;e>a;a++)d.splice(a,0,arguments[a]),b(d.length-1),"function"==typeof c.onItemAdded&&c.onItemAdded(a,arguments[a]);return d.length},c.shift=function(){if(~d.length){var a=d.shift();return"function"==typeof c.onItemRemoved&&c.onItemRemoved(0,a),a}},c.splice=function(a,e){var f,g=[];for(a=~a?a:d.length-a,e=(null==e?d.length-a:e)||0;e--;)f=d.splice(a,1)[0],g.push(f),delete c[d.length],"function"==typeof c.onItemRemoved&&c.onItemRemoved(a+g.length-1,f);for(var h=2,i=arguments.length;i>h;h++)d.splice(a,0,arguments[h]),b(d.length-1),"function"==typeof c.onItemAdded&&c.onItemAdded(a,arguments[h]),a++;return g},Object.defineProperty(c,"length",{configurable:!1,enumerable:!0,get:function(){return d.length},set:function(a){var b=Number(a);if(!(b%1===0&&b>=0))throw new RangeError("Invalid array length");return b<d.length?c.splice(b):b>d.length&&c.push.apply(c,new Array(b-d.length)),a}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(a){a in c||Object.defineProperty(c,a,{configurable:!1,enumerable:!0,writeable:!1,value:Array.prototype[a]})}),a instanceof Array&&c.push.apply(c,a)}return function(b){return new a(b)}})}(window,eModule),function(a,b){"use strict";var c=b.utils;return a.jQuery?void c.defined("paging",function(){var a={root:"body",el:"#paging",totalCount:0,currentPage:1,limit:10,block:10,autoSlide:!1,callback:""},b={},d=function(){var b=a.$el||$(a.el);b.find("a").not('[class^="selected"]').on("click",function(b){b.preventDefault(),b.stopPropagation();var c=$(this),d=c.data("page"),e=a.callback;a.currentPage=d,c.hasClass("disabled")||(c.addClass("selected").siblings().removeClass("selected"),$.isFunction(e)&&e(a))})},e=function(){var c=a.$el=$(a.el),d=0,e=0,f=0,g=0,h=($.data(c),0),i=0,j=0,k=0,l=0,m=0,n=0,o=a.totalCount,p=a.limit,q=a.block,r=a.autoSlide,s=a.currentPage,t=/disabled/gi;b={first:{title:"처음","class":"sp_evt prev_end"},prev:{title:"이전","class":"sp_evt prev"},number:{title:"페이지","class":"sp_evt num"},next:{title:"다음","class":"sp_evt next"},last:{title:"마지막","class":"sp_evt next_end"}},0!==o?(r?(d=Math.ceil(f?f/2:q/2),l=d-1,e=Math.ceil(o/p),f=e>=q?d>=s?d+l:s+l:e,g=e>=q?d>=s?d-l:s-l:1,e>=q&&f>=e&&(f=e,g=f-q+1)):(d=Math.ceil(s/q),e=Math.ceil(o/p),f=e>d*q?d*q:e,g=d*q-q+1),h=1,j=e>s+q?f+1:e,i=s-q>0?g-1:1,k=e,m=g,n=f,$.data(c,"to",m),$.data(c,"from",n),b.first["data-page"]=h,b.prev["data-page"]=i,b.next["data-page"]=j,b.last["data-page"]=k,b.first["class"]=1===s?b.first["class"]+" disabled":b.first["class"].replace(t,"").replace(/^\s*|\s*$/,""),b.prev["class"]=1===g?b.prev["class"]+" disabled":b.prev["class"].replace(t,"").replace(/^\s*|\s*$/,""),b.next["class"]=f===e?b.next["class"]+" disabled":b.next["class"].replace(t,"").replace(/^\s*|\s*$/,""),b.last["class"]=f===e&&s===f?b.last["class"]+" disabled":b.last["class"].replace(t,"").replace(/^\s*|\s*$/,"")):c.empty()},f=function(){var c=a.$el||$(a.el),d=$.data(c),e=a.currentPage,f=d.to,g=d.from,h="",i="";$.each(b,function(a){if("number"!==a){var c=b[a]["class"];h=-1!==c.indexOf("disabled")?h+'<span class="'+c+'" data-page="'+b[a]["data-page"]+'"><span class="blind">'+b[a].title+"</span></span>":h+'<a href="#" class="'+c+'" data-page="'+b[a]["data-page"]+'"><span class="blind">'+b[a].title+"</span></a>"}else{h+="{{numbers}}";for(var d=f,j=g;j>=d;d++)i=d===e?i+'<a href="#" data-page="'+d+'" class="num selected">'+d+"</a>":i+'<a href="#" data-page="'+d+'" class="num">'+d+"</a>"}}),h=h.replace(/\{\{numbers\}\}/,i),c.html(h)};return{init:function(b){return a=c.extend(a,b),e(),this},render:function(){f(),d()},setOptions:function(b){a=c.extend(a,b),e(),this.render()}}}):void console.log("paging need jQuery")}(window,eModule),function(a,b){"use strict";var c=b.utils,d=b.globals;c.defined("render",function(){var a=({sns:d.boards.sns},{}),b=function(a){for(var b="",c=0,e=a.split("."),f=e.length;f>c;c++)b=b&&"object"==typeof b?b[e[c]]:d[e[c]];return""===b?console.log("not existed template."):b},c=function(b){var c=b.replace(".","_");return a[c]?a[c]:a[c]={}};return{get:function(a,d){var e=b(a),f=c(a),g="";if(d)for(var h=0,i=d.length;i>h;h++){var j="";if("object"==typeof d[h])for(var k in d[h])if(f[k])j=""!==j?j.replace(f[k],d[h][k]):e.replace(f[k],d[h][k]);else{var l="\\{\\{"+k+"\\}\\}";f[k]=new RegExp(l,"gi"),j=""!==j?j.replace(f[k],d[h][k]):e.replace(f[k],d[h][k])}g+=j}else g=e;return g}}})}(window,eModule),function(a,b){"use strict";function c(){var a=-1,b=navigator.userAgent.toLowerCase(),c=b.indexOf("android");if(-1!=c){var d=c+8,e=b.indexOf(";",d);a=parseFloat(b.slice(d,e))}return a}var d=b.utils,e={};d.scheme=d.scheme||e;var f=navigator.userAgent.toLocaleLowerCase();f.search("android")>-1?(e.os="android",e.androidVersion=c&&c(),f.search("chrome")>-1?e.browser=f.search("opr")>-1?"android+opera":f.search("opera")>-1?"android+opera":"android+chrome":f.search("naver")>-1?e.browser="android+naver":f.search("Firefox")>-1&&(e.browser="android+firefox")):(f.search("iphone")>-1||f.search("ipod")>-1||f.search("ipad")>-1)&&(e.os="ios");var g={gmarket:{base_url:"gmarket://",store:{android:"market://details?id=com.ebay.kr.gmarket",ios:"http://itunes.apple.com/kr/app/gmarket/id340330132?mt=8"},"package":"com.ebay.kr.gmarket"}};e.link=function(b){var c=g[b];return c?{send:function(b){var c=this.app,d=c.base_url+b.schemeUrl,e=function(d){return function(){a.location=c.store[d]+"&"+b.referrerUrl}}(this.os);if("ios"==this.os)setTimeout(e,25),a.location=d;else if("android"==this.os)if("android+naver"==this.browser||"android+chrome"==this.browser&&this.androidVersion>=4.3)a.location="intent:"+d+"#Intent;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package="+c.package+";end;";else{var f=document.createElement("iframe");f.style.visibility="hidden",f.src=d,f.onload=e,document.body.appendChild(f)}},app:c,os:e.os,browser:e.browser,androidVersion:e.androidVersion}:{send:function(){throw"No App exists"}}}}(window,eModule),function(a,b){var c=b.utils;c.defined("snsUtils",function(){function b(a){var b=this;this._defaults={appkey:"",scretkey:"",callback:"",kind:"FB",profile_image_url:"",link:"",screen_name:"",name:"",id:"",accessToken:""},this._defaults=c.extend(b._defaults,a||{}),this._complete=function(){var a=$.param(b._defaults);c.cookie.set("FB",a,"1"),location.reload()},this._getProfileImage=function(){FB.api("/me/picture",{width:"68",height:"68"},function(a){b._defaults.profile_image_url=a.data.url,b._complete()})},this._user=function(){FB.api("/me",function(a){b._defaults.screen_name=a.name,b._getProfileImage()})},this._statusChangeCallback=function(a){"connected"===a.status,b._facebookLogin()},this._facebookLogin=function(){parent?parent.location.href="https://graph.facebook.com/oauth/authorize?client_id=1403722356549612&scope=publish_stream&redirect_uri="+encodeURIComponent("http://md9.gmarket.co.kr/Sns/FacebookCallBack?returnUrl="+parent.location.href):location.href="https://graph.facebook.com/oauth/authorize?client_id=1403722356549612&scope=publish_stream&redirect_uri="+encodeURIComponent("http://md9.gmarket.co.kr/Sns/FacebookCallBack?returnUrl="+location.href)}}function d(){}return b.prototype.init=function(){var b=this;!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="http://connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),a.fbAsyncInit=function(){FB.init({appId:b._defaults.appkey?b._defaults.appkey:b._defaults.scretkey,cookie:!0,xfbml:!0,version:"v2.1"}),FB.getLoginStatus(function(a){"connected"===a.status&&(b._defaults.accessToken=a.authResponse.accessToken)},!0)},$.ajax({url:"/sns/getshortenlink",data:{planId:b._defaults.planId},success:function(a){b._defaults.shortenlink=a}})},b.prototype.post=function(a){var b=this;FB.api("/me/feed","POST",{message:a.message,link:b._defaults.shortenlink?b._defaults.shortenlink:"",link_url:b._defaults.shortenlink?b._defaults.shortenlink:"",access_token:b._defaults.accessToken,picture:a.picture,name:b._defaults.planTitle})},b.prototype.checkLoginState=function(){var a=this;FB.getLoginStatus(function(b){a._statusChangeCallback(b)})},b.prototype.logout=function(){c.cookie.set("FB","","-1"),location.reload()},d.prototype.init=function(){!function(b,c,d){var e,f,g=b.getElementsByTagName(c)[0];if(!b.getElementById(d))return f=b.createElement(c),f.id=d,f.src="https://platform.twitter.com/widgets.js",g.parentNode.insertBefore(f,g),a.twttr||(e={_e:[],ready:function(a){e._e.push(a)}})}(document,"script","twitter-wjs")},d.prototype.checkLoginState=function(){parent?parent.location.href="/sns/twitter?returnurl="+parent.document.location.href:location.href="/sns/twitter?returnurl="+document.location.href},d.prototype.post=function(a){$.ajax({url:"/sns/update",data:{status:a.message,planId:a.planId},success:function(){}})},d.prototype.logout=function(){c.cookie.set("TW","","-1"),location.reload()},{facebook:function(a){return new b(a)},twitter:function(){return new d}}})}(window,eModule),function(a,b){"use strict";var c=(b.apps,b.globals),d=b.utils;d.defined("wiselog",function(){var a=c.fcd,b=null,d=function(c){b||($("#wrap").append('<iframe src="" style="display:none" id="wiseLog"></iframe>'),b=$("#wiseLog")),b.attr("src","http://sna.gmarket.co.kr?fcd="+a[c])};return{send:function(a,b){"function"==typeof b&&b(),d(a)}}})}(window,eModule),function(a,b){"use strict";var c=b.apps,d=b.utils;c.defined("landing",[d.wiselog,d.scheme],function(a,b){var c={root:"#wrap",content:"#content",el:"#lay_notice",pageName:"home",landingType:"B",imageUrl:"",imageDomain:"http://image.gmarket.co.kr",description:"",messages:{btn:{goToApp:"G마켓 APP으로 보기",close:"다음에 받기"}},installAppUrl:"gmarket://",templates:{wrapper:'<div id="lay_notice" class="lay_notice"><div class="lay_area">{{inner}}</div></div>',A:'<span class="img_bx">{{image}}</span><div class="btn_bx"><a href="#" id="goToApp"><img src="{{imageDomain}}/mobile/banner/btn_large_go_01.png" alt="{{goToApp}}"/></a></div>',B:'<span class="img_bx">{{image}}</span><div class="btn_bx"><a href="#" id="goToApp"><img src="{{imageDomain}}/mobile/banner/btn_small_go_01.png" alt="{{goToApp}}"/></a><a href="#" id="landingClose"><img src="{{imageDomain}}/mobile/banner/btn_small_next_01.png" alt="{{close}}"/></a></div>',ETC:"",image:'<img src="{{imageUrl}}" alt="{{description}}">',mask:'<div id="mask" selected="true"></div>'},campaign:"",medium:"",mediumSource:"",mediumContent:"",term:"",isIos:!1},e=function(){var a={utm_campaign:c.campaign,utm_medium:c.medium,utm_source:c.mediumSource,utm_content:c.mediumContent,utm_term:c.term},b="";for(var d in a)b=""===b?d+"="+a[d]:b+"&"+d+"="+encodeURIComponent(a[d]);return b},f=function(a,b){var c="",e="";if(""!==b){e=d.params(b);for(var f in e)"landingtype"!==f&&"landingdisplay"!==f&&(c=(""==c?"?":"&")+f+"="+e[f])}return a+c},g=function(){var a=location,b=new RegExp("\\/"),e=a.origin,g=a.pathname.replace("/",""),h=a.search.replace("?",""),i=b.test(g)?g.split(b)[0].toLowerCase():g.toLowerCase(),j=b.test(g)?g.split(b)[1].toLowerCase():g.toLowerCase(),k=(c.installAppUrl,""),l=(c.isIos,e+"/"+f(g,h)),m={1:"브랜드온",2:"",3:"해외직구",4:"장전G",5:"G맘클럽",6:"소호",7:"",8:"마트ON"};switch(i){case"item":var n=d.params(h).goodscode||"";k="item?itemid="+n+"&jaehuid=";break;case"best":k="main?best";break;case"superdeal":k="main?superdeal";break;case"pluszone":k="main?pluszone";break;case"ecoupon":k="main?ecoupon";break;case"look":k="main?look";break;case"mark":k="main?mark";break;case"giftcard":k="openwindow?title="+encodeURIComponent("선물권")+"&targetUrl="+l;break;case"search":var o=d.params(h).topkeyword||"",p="keyword="+o;k="search?type=srp&"+p;break;case"category":var q="",r=d.params(h).lcid,s=d.params(h).mcid;"list"==j?(q="lp",k="search?type=lp&lcId="+r+"&mcId="+s):(q="cpp",k="search?type=cpp&lcId="+r);break;case"main":k="main";break;case"home":k="mmyg.gmarket.co.kr"===location.host?"openwindow?title="+encodeURIComponent("나의쇼핑정보메인")+"&targetUrl="+l:"main";break;case"contractlist":k="openwindow?title="+encodeURIComponent("주문내역")+"&targetUrl="+l;break;case"event":k="openwindow?title="+encodeURIComponent("이벤트")+"&targetUrl="+l;break;case"display":k="openwindow?title="+encodeURIComponent("기획전")+"&targetUrl="+l;break;case"vertical":var t=m[d.params(h).shopseq];k="openwindow?title="+encodeURIComponent(t)+"&targetUrl="+l;break;case"shop":k="openwindow?title="+encodeURIComponent("롯데백화점")+"&targetUrl="+l;break;default:k="main"}c.installAppUrl=k},h=function(){var a=c.$root=$(c.root),b=c.$content=$(c.content).length>0?$(c.content):a,d=""===c.landingType?"A":c.landingType,e=c.templates.wrapper,f=c.templates[d],g=c.templates.mask,h=c.templates.image,i={imageUrl:c.imageUrl,imageDomain:c.imageDomain,description:c.description,goToApp:c.messages.btn.goToApp,close:c.messages.btn.close},j="";for(var k in i){var l=new RegExp("{{"+k+"}}","g");f=f.replace(l,i[k])}h=""!==i.imageUrl?h.replace(/\{\{imageUrl\}\}/,i.imageUrl).replace(/\{\{description\}\}/,i.description):"",f=f.replace(/\{\{image\}\}/,h),j=e.replace(/\{\{inner\}\}/,f),a.append(g),b.append(j)};return{init:function(a){var b="",e="";c=d.extend(c,a),c.isIos=/iphone|ipod|ipad/.test(navigator.userAgent.toLowerCase()),b=c.landingType.toLowerCase(),e=c.pageName.toLowerCase(),c.isIos?"vip"==e&&"none"!==b&&this.render():"none"!==b&&"srp"!==e&&"lp"!==e&&"cpp"!==e&&"contractlist"!==e&&"mmyghome"!==e&&"specialshopping"!==e&&this.render()},render:function(){g(),h()},installApp:function(){var d="A"===c.landingType.toUpperCase()?"A":"BApp",f="referrer="+e();a.send(d,function(){b.link("gmarket").send({schemeUrl:c.installAppUrl,referrerUrl:f})})},close:function(){c.$content.find(c.el).hide(),c.$root.find("#mask").remove(),a.send("BNext")}}})}(window,eModule),function(a,b){"use strict";var c=b.apps,d=b.utils,e=b.globals;c.defined("snsBoard",[e.snsAttributes,d.observableArray,d.paging,d.api,d.render,d.cookie,d.snsUtils],function(b,c,f,g,h,i,j){function k(){var a=parent.document.location,b=a.protocol+"//",c=a.host,d=a.pathname,e=a.search,f=b+c+d+e,g="http://mdev.gmarket.co.kr/Login/login_mw.asp?URL="+f;return g}function l(){for(var a="",b=E.SnsKinds,c="",d=0,e=b.length;e>d;d++){c=b[d],a=i.get(c)?i.get(c):null;var f={};if(a)for(var g=0,h=a.split("&"),j=h.length;j>g;g++)for(var k=0,l=h[g].split("="),m=l.length;m>k;k++){var n=l[0],o=decodeURIComponent(l[1]);f[n]=o}else f=a;E.userAuthorizeSNSInfo[c]=f}}function m(){for(var a=E.SnsKinds,b=a.length,c="",d=[],e=E.userAuthorizeSNSInfo,f=0;b>f;f++)c=a[f],e&&e[c]&&d.push(c);E.selectedSNS=d.length>0?d[0]:""}function n(){for(var a=0,b=E.SnsKinds.length;b>a;a++)"FB"===E.SnsKinds[a]?(E.$FB=j.facebook({appkey:"1403722356549612",scretkey:"533c349c22929cde37a5ae15117175a6",callback:"http://mobiledev.gmarket.co.kr/Sns/FacebookCallBack",planId:E.PlanID?E.PlanID:0,planTitle:E.PlanTitle?E.PlanTitle:""}),E.$FB.init()):"TW"===E.SnsKinds[a]&&(E.$TW=j.twitter(),E.$TW.init())}function o(a){var b=null,c=navigator.userAgent.toLowerCase(),d=c.indexOf("android")>-1;d&&E.IsPreventCopy&&a.on("contextmenu","textarea",function(a){a.preventDefault(),alert(E.validateMesaages[E.LanguageType].copypaset)}),a.on("copy","textarea",function(a){E.IsPreventCopy&&(a.preventDefault(),alert(E.validateMesaages[E.LanguageType].copypaset))}).on("paste","textarea",function(a){if(E.IsPreventCopy)a.preventDefault(),alert(E.validateMesaages[E.LanguageType].copypaset);else{var c=$(this);b=setTimeout(function(){var a=c.val();c.next().find("strong").text(a.length),clearTimeout(b)},100)}}).on("cut","textarea",function(a){E.IsPreventCopy&&(a.preventDefault(),alert(E.validateMesaages[E.LanguageType].copypaset))}).on("keyup","textarea",function(){var a=$(this).val();$(this).next().find("strong").text(a.length)}).on("change","textarea",function(){var a=$(this).val();$(this).next().find("strong").text(a.length)}),a.on("click",".js-move-usersns",function(a){a.preventDefault(),q(),"FB"===E.selectedSNS?parent.location.href="http://m.facebook.com/me":"TW"===E.selectedSNS&&(parent.location.href="http://m.twitter.com/"+E.userAuthorizeSNSInfo.TW.screen_name)}),a.on("click",".js-change-profileimage",function(b){b.preventDefault(),a.find(".js-close-reply").trigger("click");for(var c in E.userAuthorizeSNSInfo)if(c!==E.selectedSNS)return E.selectedSNS=c,p($(this)),!1}),a.on("click",".js-goto-sns",function(a){a.preventDefault();var b=$(this),c=b.parent(),d=c.data("snsid"),e=c.data("snskind");"f"===e?parent.location.href="http://www.facebook.com/"+d:"t"===e&&(parent.location.href="http://www.twitter.com/"+d)})}function p(a){var b=(E.$el,a.closest("form").find(".thmb img")),c=E.userAuthorizeSNSInfo[E.selectedSNS]?E.userAuthorizeSNSInfo[E.selectedSNS].profile_image_url:h.get("boards.sns.icons.profileImage.icon.post");b.attr("src",c)}function q(){return"False"===E.gmarketLogin?(alert(E.validateMesaages[E.LanguageType].gmarketLogin),parent.document.location.href=k(),!1):""===E.selectedSNS?(alert(E.validateMesaages[E.LanguageType].snsLogin),!1):E.IsEnableRegist?E.userAuthorizeSNSInfo[E.selectedSNS]?!0:(alert(E.validateMesaages[E.LanguageType].snsLogin),!1):(alert(E.validateMesaages[E.LanguageType].regist),!1)}function r(){return"False"===E.gmarketLogin?(alert(E.validateMesaages[E.LanguageType].gmarketLogin),parent.document.location.href=k(),!1):E.IsEnableRegist?!0:(alert(E.validateMesaages[E.LanguageType].regist),!1)}function s(a){var b=E.TextMinLength,c=E.TextMaxLength,d=E.IsPreventEnglish,f=E.IsPreventRepeatedWord,g=null,h="";return f&&(g=E.regExpGroup.confirm.repeatWord?E.regExpGroup.confirm.repeatWord:new RegExp("([가-힣a-zA-Zㄱ-ㅎ])\\1\\1\\1\\1$"),g.test(a))?(alert(E.validateMesaages[E.LanguageType].repeatWord),!1):d&&(g=E.regExpGroup.confirm.enabledEn?E.regExpGroup.confirm.enabledEn:new RegExp(e.regExp.letter,"gi"),g.test(a))?(alert(E.validateMesaages[E.LanguageType].enabledEnglish),!1):(0===a.length&&(alert(E.validateMesaages[E.LanguageType].empty),returnValue=!1),a.length<b?(h=E.validateMesaages[E.LanguageType].minLength.replace(/\{\{min\}\}/gi,b),alert(h),!1):a.length>c?(h=E.validateMesaages[E.LanguageType].maxLength.replace(/\{\{max\}\}/gi,c),alert(h),a.substring(0,c)):0===E.$el.find(".sel_sns :checkbox:checked").length?(alert(E.validateMesaages[E.LanguageType].selectedSNS),!1):!0)}function t(a){F.shift(),F.push(a),E.$el.find(".lst_sns").html(G)}function u(a){var c="",d=0===E.sharedSNSKinds.length?[]:E.sharedSNSKinds,e=a.length;if(e>0){if(0===d.length){for(var f=0;e>f;f++){var g=a[f],i=$.isEmptyObject(E.userAuthorizeSNSInfo[g]),j=b[g];j.checked=i?"":"checked",j.kindLogOn=i?"":"on",j.profileImageUrl=i?"":E.userAuthorizeSNSInfo[g].profile_image_url,d.push(j)}E.sharedSNSKinds=d}return c=h.get("boards.sns.snsBox",E.sharedSNSKinds)}}function v(a){var b=0;for(var c in E.userAuthorizeSNSInfo)E.userAuthorizeSNSInfo[c]&&b++;var d=[{profileImageUrl:""!==E.selectedSNS&&E.userAuthorizeSNSInfo[E.selectedSNS]?E.userAuthorizeSNSInfo[E.selectedSNS].profile_image_url:h.get("boards.sns.icons.profileImage."+a),width:"post"===a?"width:68px":"width:48px",height:"post"===a?"height:68px":"height:48px",disable:"post"===a&&b>1?"":"disabled"}];return h.get("boards.sns.profileImage",d)}function w(a){var b="",c=null,e="",i="0";b=E.el=""!==a.el?a.el:E.root,c=E.$el=E.$el?E.$el:$(b),i=E.boardID=""!==a.boardID?a.boardID:"0",E.gmarketLogin=a.gmarketLogin?a.gmarketLogin:"False",g.snsBoard.all({data:{id:i},successHandler:function(a){E=d.extend(E,a),n(),l(),m();var b=[{submit:E.formMessages[E.LanguageType].submit,placeholder:E.formMessages[E.LanguageType].placeholder,maxLength:E.TextMaxLength,snsBox:u(E.SnsKinds),profileImage:v("post"),isLogin:""===E.selectedSNS?"<h2>"+E.formMessages[E.LanguageType].login+"</h2>":'<p class="u_log"><a href="#" class="js-log-out">'+E.formMessages[E.LanguageType].logout+"</a></p>"}];e=h.get("boards.sns.confirm",b),c.html(h.get("boards.sns.table")).find(".sns_write").html(e),1===c.find(".sns_write :checkbox:checked").length&&c.find(".sns_write :checkbox:checked").attr("disabled","disabled"),g.snsBoard.list({data:{boardID:E.boardID,pageIndex:E.pageIndex,pageSize:E.CountPerPage},successHandler:function(a){a.Data.length>0?(t(a.Data),f.init({totalCount:a.PageTotalCount,currentPage:E.pageIndex,offset:0,limit:E.CountPerPage,block:5,callback:function(a){E.pageIndex=a.currentPage,g.snsBoard.list({data:{boardID:E.boardID,pageIndex:E.pageIndex,pageSize:E.CountPerPage},successHandler:function(a){if(a.Data.length>0)$(".sns_default").remove(),t(a.Data),f.setOptions({totalCount:a.PageTotalCount,currentPage:E.pageIndex});else{E.$el.find("#sns").append(h.get("boards.sns.emptyList"));var b=E.listMessages[E.LanguageType].noLists;alert(b)}}})}}).render()):E.$el.find("#sns").append(h.get("boards.sns.emptyList"))}}),o(c)}})}function x(a){g.snsBoard.del({url:"/BoardContent/Remove",data:{id:a},successHandler:function(a){if(0===a)E.pageIndex=1,g.snsBoard.list({data:{boardID:E.boardID,pageIndex:E.pageIndex,pageSize:E.CountPerPage},successHandler:function(a){if(a.Data.length>0)$(".sns_default").remove(),t(a.Data),f.setOptions({totalCount:a.PageTotalCount,currentPage:E.pageIndex});else{E.$el.find("#sns").append(h.get("boards.sns.emptyList")),E.$el.find(".lst_sns").empty(),E.$el.find("#paging").empty();var b=E.listMessages[E.LanguageType].noLists;alert(b)}}});else{var b=d.errorHandler("delete")[E.LanguageType];alert(b)}}})}function y(a){var b=a.form,c=a.message,d=a.picture,e=a.planId,f=b.find(":checkbox");f.each(function(){if($(this).is(":checked")){var a=$(this).data("snstype"),b="$"+a;E[b].post({message:c,picture:d,planId:e})}})}function z(b){var c=E.selectedSNS,e="",i=b.attr("name"),j=b.closest("li").data("id"),l=b.find("textarea").val(),m=s(l);e=E.userAuthorizeSNSInfo[c],m===!0?g.snsBoard.postSubmit({data:{boardID:E.boardID,id:"post"===i?0:j,eventID:E.EventID?E.EventID:0,contents:l,snsKind:e.kind,snsUserID:e.screen_name,snsProfileImage:e.profile_image_url,snsUserName:e.id&&""!==e.id?e.id:e.screen_name},successHandler:function(c){if(b.find("textarea").val(""),b.find(".write strong").text(0),"post"===i&&(E.pageIndex=1),0===c.ResultCode)y({form:b,message:l,picture:E.FacebookThumbnailImage,planId:E.PlanID?E.PlanID:0}),c.EncStr&&c.StrValue&&a.CommonApplyEventPlatformMobile(c.StrValue,c.EncStr),g.snsBoard.list({data:{boardID:E.boardID,pageIndex:E.pageIndex,pageSize:E.CountPerPage},successHandler:function(a){if(a.Data.length>0)$(".sns_default").remove(),t(a.Data),f.setOptions({totalCount:a.PageTotalCount,currentPage:E.pageIndex});else{E.$el.find("#sns").append(h.get("boards.sns.emptyList"));var b=E.listMessages[E.LanguageType].noLists;alert(b)}}});else{var e=d.errorHandler(c.ResultCode)[E.LanguageType];switch(alert(e),c){case"5":parent.document.location.href=k()}}}}):(b.find("textarea").focus(),"boolean"!=typeof m&&(b.find("textarea").val(m),b.find(".write strong").text(m.length)))}function A(a){var b=a.closest("li"),c=b.find(".reply_area"),d="",e=[{submit:E.formMessages[E.LanguageType].submit,placeholder:E.formMessages[E.LanguageType].placeholder,maxLength:E.TextMaxLength,snsBox:u(E.SnsKinds),profileImage:v("reply")}];d=h.get("boards.sns.reply",e),c.parent().empty(),b.append(d),1===b.find(":checkbox:checked").length&&b.find(":checkbox:checked").attr("disabled","disabled")}function B(a){var b=a.closest("li"),c=(b.find("form"),b.find(".reply_area"));c.parent().empty()}function C(a,c){{var d=b[c],e="$"+c;d.kindType}E.selectedSNS=c,E[e]&&""===d.kindLogOn&&E[e].checkLoginState(),p(a)}function D(){alert(E.logoutMessages[E.LanguageType]);for(var a in E.userAuthorizeSNSInfo){var b="$"+a;E[b]&&E[b].logout()}}var E={root:"body",el:"",boardID:"",gmarketLogin:"False",elPaging:"",sharedSNSKinds:[],selectedSNS:"",userAuthorizeSNSInfo:{},BoardType:"Sns",BottomLineColor:"#FF3333",ButtonColor:"#FF3333",ButtonTextColor:"#FFFFFF",CountPerPage:0,DuplicationRegistrationCountPerDay:0,DuplicationRegistrationType:"N",EndedDate:"",EventID:0,FacebookThumbnailImage:"",IsEnableRegist:!0,IsEnabledDelete:!0,IsEnabledReply:!0,IsPreventCopy:!0,IsPreventEnglish:!0,IsPreventRepeatedWord:!0,LanguageType:"K",PlanID:0,PlanTitle:"",SnsKinds:[],StartedDate:"",TextMaxLength:140,TextMinLength:0,TopLineColor:"#FF3333",logoutMessages:{K:"G마켓에서 로그인된 각 서비스를 로그아웃합니다.",E:"You are logged in log out."},listMessages:{K:{noLists:"등록된 글이 없습니다."},E:{noLists:"There is no records."}},validateMesaages:{K:{empty:"글을 입력해 주세요.",gmarketLogin:"로그인 후 이용하실 수 있습니다.",snsLogin:"글을 보내실 SNS에 로그인해 주세요.",minLength:"글자수가 부족합니다.(최소 {{min}}자)\n수정후 등록해주세요.",maxLength:"최대 {{max}}자 까지만 입력 가능합니다.",repeatWord:"동일한 문자가 5회 이상 반복되었습니다.\n수정후 등록해주세요.",enabledEnglish:"영어사용이 금지되었습니다.\n수정후 등록해주세요.",selectedSNS:"글을 보내실 SNS를 선택해 주세요.","delete":"삭제하시겠습니까?",regist:"게시판 사용 기간이 아닙니다.",copypaset:"복사하기, 붙여넣기는 사용하실 수 없습니다."},E:{empty:"Please write a message.",gmarketLogin:"Please, sign-in first.",snsLogin:"Please sign-in SNS site to share your message.",minLength:"You are allowed a minimum of {{min}} letters.",maxLength:"You are allowed a maximum of {{max}} letters.",repeatWord:"You are not allowed to write same word patterns more than 5 times.\nPlease check again.",enabledEnglish:"영어사용이 금지되었습니다.\n수정후 등록해주세요.",selectedSNS:"Please select SNS site to share your message.","delete":"삭제하시겠습니까?",regist:"It is not the period to be able to use this board.",copypaset:"Copy, paste can not be used."}},formMessages:{K:{login:"SNS에 로그인 후 작성해주세요.",logout:"로그아웃",placeholder:"작성하신 글은 로그인 하신 SNS에 함께 게시됩니다.",submit:"확인"},E:{login:"Leave a message after signing-in the SNS.",logout:"Sign-out",placeholder:"Your comment will post not only here but also on your timeline.",submit:"submit"}},buttonMessages:{K:{reply:"답글","delete":"삭제"},E:{reply:"Reply","delete":"Delete"}},pageIndex:1,templates:{},regExpGroup:{table:{},list:{},reply:{},snsBox:{},profileImage:{},snsDatas:{},buttons:{},confirm:{}}},F=c(),G="";
return F.onItemAdded=function(a,c){G="";for(var d=0,e=c.length;e>d;d++)c[d].snsKlass=b[c[d].SnsKind].kindClass,c[d].snsName=b[c[d].SnsKind].kindName,c[d].isReply=E.IsEnabledReply&&c[d].Depth>1?"lst_reply":"",c[d].IsEnabledReply=E.IsEnabledReply&&1===c[d].Depth?h.get("boards.sns.buttons.reply"):"",c[d].IsEnabledDelete=c[d].IsEnabledDelete&&E.IsEnabledDelete?h.get("boards.sns.buttons.del"):"",c[d].Contents=c[d].Contents?c[d].Contents.replace(/(\r\n|\n|\r)/gm,"<br>"):"",c[d].replyButton=E.buttonMessages[E.LanguageType].reply,c[d].deleteButton=E.buttonMessages[E.LanguageType].delete;var f=h.get("boards.sns.list",c);G+=f},{init:function(a){return w(a),this},del:function(a){return confirm(E.validateMesaages[E.LanguageType].delete)?void x(a):!1},submit:function(a){z(a)},cancel:function(a){B(a)},reply:function(a){A(a)},login:function(){_login()},logout:function(){D()},loginCheck:function(){return q()},loginCheckOnlyGmarket:function(){return r()},snsselect:function(a){var b=a.data("snstype"),c="",d=E.$el,e=a.closest("form"),f=e.attr("name"),g=a.parent(),h=g.find(":checkbox"),i=g.find(":checkbox:checked");if(a.is(":checked")){i.length>1?(h.removeAttr("disabled","disabled"),"post"===f&&e.find(".js-change-profileimage").removeClass("disabled")):(i.attr("disabled","disabled"),"post"===f&&e.find(".js-change-profileimage").addClass("disabled")),c=b;for(var j=0,k=E.sharedSNSKinds.length;k>j;j++)E.sharedSNSKinds[j].kindType===b&&(E.sharedSNSKinds[j].checked="checked")}else{1===i.length&&(i.attr("disabled","disabled"),"post"===f&&e.find(".js-change-profileimage").addClass("disabled")),c=a.siblings(":checkbox:checked")[0].getAttribute("data-snstype");for(var l=0,m=E.sharedSNSKinds.length;m>l;l++)E.sharedSNSKinds[l].kindType===b&&(E.sharedSNSKinds[l].checked="")}"post"===f&&d.find(".js-close-reply").trigger("click"),C(a,c)}}})}(window,eModule);
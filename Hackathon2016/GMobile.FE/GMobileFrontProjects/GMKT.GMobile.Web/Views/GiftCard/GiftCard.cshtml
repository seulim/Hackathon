@{
	ViewBag.Title = "G마켓 GIFT CARD";
}

@model GMKT.GMobile.Web.Controllers.GiftCardController.LandingBannerModel

@{
	string appScheme = "gmarket://appCreateShorcut?page=GiftCard";

	string appSchemeForLatestAndroid = "Intent://appCreateShorcut?page=GiftCard" +
		"#Intent;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;scheme=gmarket;package=com.ebay.kr.gmarket;end";
}
<!--link rel="stylesheet" type="text/css" href="@Urls.StyleUrl/320/GiftCard/giftcard.css?v=7"/-->
<link rel="stylesheet" type="text/css" href="@Urls.StyleUrlV2/giftcard.css?v=7"/>
<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/giftcard.js?ver=1"></script>
<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/main/common/iscroll4.js"></script>
<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/main/common/MobileSnsUtil.js?v=1"></script>
<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/main/common/kakao.js?v=1"></script>
<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/main/module/ebayModule/ebayModule-v0.0.5.js"></script>

	@*<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/main/common/MobileAppUtil.js"></script>*@
  <script type="text/javascript" language="javascript">

    function GotoOrder_ServiceStop(sPrice) {
        popPositMid('gc_layer_info');
        //alert("Gift Card 서비스 업그레이드 중입니다.\n더 나은 서비스로 찾아 뵙겠습니다.");
        return;
    }
  	function GotoOrder(sPrice) {
//  		if ("@{@PageAttr.IsLogin}" == "True") {
  			$("#orderprice").get(0).value = sPrice;
  			$("#GiftCardForm").submit();
//  		}
//  		else {
//  			document.location.href = "@Urls.LoginUrl";
//  		}
  	}
  	function Request(valuename)    //javascript로 구현한 Request
  	{
  		var rtnval;
  		var nowAddress = unescape(location.href);
  		var parameters = new Array();
  		parameters = (nowAddress.slice(nowAddress.indexOf("?") + 1, nowAddress.length)).split("&");
  		for (var i = 0; i < parameters.length; i++) {
  			if (parameters[i].indexOf(valuename) != -1) {
  				rtnval = parameters[i].split("=")[1];
  				if (rtnval == undefined || rtnval == null) {
  					rtnval = "";
  				}
  				return rtnval;
  			}
  		}
  	}
  	function sendScheme() {

  		var appVersion = checkAppVersion();

  		if (appVersion != '' && parseInt(appVersion) <= 335) {
  			if (confirm("고객님 G마켓 앱의 업데이트가 필요합니다.") == false) {
  				return;
  			} else {
  				document.location = "market://details?id=com.ebay.kr.gmarket";
  			}
  		}
  		else {
  			var iframe = document.createElement("iframe");
  			iframe.id = "checkframe";
  			iframe.name = "checkframe";
  			iframe.style.width = "0px";
  			iframe.style.height = "0px";
  			iframe.style.display = "none";
  			document.body.appendChild(iframe);

  			document.checkframe.location = "gmarket://appCreateShorcut?page=GiftCard";
  			setTimeout("checkApplicationInstall_callback2()", 500);
  		}
  	}
  	function checkApplicationInstall_callback2() {
  		try {

  			var s = document.checkframe.document.body.innerHTML;
  			$("#checkframe").remove();
  		} catch (e) {
  			document.location = "market://details?id=com.ebay.kr.gmarket";
  		}
  	}
//  	function checkApplicationInstall() {

//  		document.checkframe.location = "@appScheme";
//  		setTimeout("checkApplicationInstall_callback()", 500);

//  	}

//  	function checkApplicationInstall_callback() {
//  		try {

//  			if (isIphone)
//  				document.location = "market://details?id=com.ebay.kr.gmarket";
//  			else
//  				var s = document.checkframe.document.body.innerHTML;

//  		} catch (e) {

//				var ua = navigator.userAgent.toLowerCase();
//				var isAndroid = ua.indexOf("android") > -1;

//				var isIphone = "@{@PageAttr.IsIphone}";

//				var appSchemeForLatestAndroid = "@appSchemeForLatestAndroid";
//  			$.browser.chrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());

//  			if ($.browser.chrome /*&& getAndroidVersion() >= 4.3*/) {
//  				window.location.href = appSchemeForLatestAndroid;
//  			}
//  			else if (isAndroid) {
//  				window.location.href = "market://details?id=com.ebay.kr.gmarket";;
//  			}
//  			else if (isIphone == "True") {
//  				document.location = "market://details?id=com.ebay.kr.gmarket";;
//  			}
//  			else {
//  				alert('지원하지 않는 단말기입니다.');
//  			}
//  		}
//  	}
  	function checkApplicationInstall() {
  		var appSchemeForLatestAndroid = "@appSchemeForLatestAndroid";
  		if (getAndroidVersion() >= 4.3) window.location.href = appSchemeForLatestAndroid;
  		else {
  			var iframe = document.createElement("iframe");
  			iframe.id = "checkframe";
  			iframe.name = "checkframe";
  			iframe.style.width = "0px";
  			iframe.style.height = "0px";
  			iframe.style.display = "none";
  			document.body.appendChild(iframe);

  			document.checkframe.location = "gmarket://appCreateShorcut?page=GiftCard";
  			setTimeout("checkApplicationInstall_callback()", 500);
  		}
  	}
  	function checkApplicationInstall_callback() {
  		try {

  			var s = document.checkframe.document.body.innerHTML;
  			$("#checkframe").remove();
  		} catch (e) {
  			document.location = "market://details?id=com.ebay.kr.gmarket";
  		}
  	}
  	function checkAppVersion() {
  		var sName = "appversion";
  		var aCookie = document.cookie.split("; ");

  		for (var i = 0; i < aCookie.length; i++) {
  			var aCrumb = aCookie[i].split("=");
  			if (sName == aCrumb[0])
  				return unescape(aCrumb[1]);
  		}
  		return null;
  	}
  	function getAndroidVersion() {
  		var androidVersion = -1; // def value, for non-Android devices
  		var ua = navigator.userAgent.toLowerCase();
  		var androidIndex = ua.indexOf('android');

  		if (androidIndex != -1) {
  			var versionStartIndex = androidIndex + 8;
  			var versionEndIndex = ua.indexOf(';', versionStartIndex);

  			androidVersion = parseFloat(ua.slice(versionStartIndex, versionEndIndex));
  		}

  		return androidVersion;
  	}
  	var ShareTo = function (type) {
  		var dataName = "Gift Card";
  		switch (type) {
  			case MobileSnsUtil.snsType().KAKAOTALK:
  				dataName = "G마켓 Gift Card";
  				break;
  			case MobileSnsUtil.snsType().FACEBOOK:
  				dataName = "G마켓 Gift Card / 합리적인선물제안";
  				break;
  			case MobileSnsUtil.snsType().KAKAOSTORY:
  				dataName = "G마켓 Gift Card";
  				break;
  			default:
  				break;
  		}
  		var data = {
  			"name": dataName,
  			"url": "@Urls.MobileWebUrl" + "/GiftCard/GiftCard",
  			"title": ""
  		};

  		if (type == "kakaotalk") {
  			KakaoController('#SnsKakaoTalk', new SnsParam(type, data), 'home');
  		}
  		else {
  			var sender = MobileSnsUtil.sns(type).sender;
  			sender.send(type, new SnsParam(type, data))
  		}
    }

    $(document).ready(function () {

        /* landing Banner */
        var em = eModule
                , apps = em.apps
                , landing = apps.landing;

        landing.init({
            pageName: 'GiftCard',
            landingType: '@Model.LandingBanner.Type',
            imageUrl: '@Model.LandingBanner.ImageUrl',
            description: '@Model.LandingBanner.Description',
            campaign: '@Model.Campaign.Name',
            medium: '@Model.Campaign.Medium',
            mediumSource: '@Model.Campaign.MediumSource',
            mediumContent: '@Model.Campaign.MediumContent',
            term: '@Model.Campaign.Keyword'
        });

        $("#lay_notice").on('click', '#goToApp', function (e) {
            e.preventDefault();
            landing.installApp();
        }).on('click', '#landingClose', function (e) {
            e.preventDefault();
            landing.close();
        });
        /* landing Banner */

  		displayLayer("progress_icon", "none");
  		gc_terms(5);

  		//437075 모바일 GIFT CARD 안내 레이어 요청
  		popPositMid('gc_layer_info');

  		var pf = navigator.platform;
  		var ua = navigator.userAgent;

  		KakaoInit();
  		ShareTo("kakaotalk");

//  		$("#favoriteadd").hide();
//  		var mobileKeyWords = new Array('Android', 'Windows CE', 'LG', 'MOT', 'SAMSUNG', 'SonyEricsson');
//  		for (var word in mobileKeyWords) {
//  			if (navigator.userAgent.match(mobileKeyWords[word]) != null) {
//  				$("#favoriteadd").show();
//  			}
//  		}
  	});
	</script>
	<!-- CONTENT -->
	@{Html.BeginForm("GiftCardOrder", "GiftCard", FormMethod.Get, new { name = "GiftCardForm", id = "GiftCardForm" });}
	<div id="content" class="ctns">
		<div class="gc_location">
			<span>GIFT CARD > 구매하기</span>
			<div class="func">
				@if (PageAttr.IsAndroidApp || PageAttr.IsIphoneApp)
        {
					<a href="@(EmbeddedUrlHelper.GetLinkIsEmbedded("shareurl", Urls.MobileWebUrl + "/GiftCard/GiftCard", "", "G마켓 Gift Card", "", "", PageAttr))" class="sns">공유하기</a>
        }
        else
        {
          <a href="#" class="sns" onclick="popBlockUI('layer_sns');return false;">공유하기</a>
        }
				@if (!PageAttr.IsIphone && !PageAttr.IsIpad && !PageAttr.IsIpod)
				{
					if (PageAttr.IsAndroidApp)
					{
						@:<a href="javascript:void(0);" onclick="javascript:sendScheme();" class="down">페이지 다운로드</a>			
					}
					else if (!PageAttr.IsAndroidApp && PageAttr.IsAndroid)
					{
						@:<a href="javascript:void(0);" onclick="javascript:checkApplicationInstall();" class="down">페이지 다운로드</a>			
					}
				}
				@*<a href="javascript:void(0);" class="down">페이지 다운로드</a>*@
			</div>
		</div>
		<div class="gc_tab">
			<ul>
				<li class="on"><a href="javascript:void(0);">구매하기</a></li>
				<li><a href="GiftCardRegist">등록하기</a></li>
				<li><a href="GiftCardListSend">확인/재발송</a></li>
			</ul>
		</div>
		
		<div class="gc_list_gift">
			<strong class="s_tit">합리적인 선물제안</strong>
			<ul class="list">
				<li><a href="javascript:GotoOrder_ServiceStop(5000);">
					<div>
						<span class="price">5,000</span>
						<span class="txt01">구매하기</span>
					</div>
				</a></li>
				<li><a href="javascript:GotoOrder_ServiceStop(10000);">
					<div>
						<span class="price">10,000</span>
						<span class="txt01">구매하기</span>
					</div>
				</a></li>
				<li><a href="javascript:GotoOrder_ServiceStop(30000);">
					<div>
						<span class="price">30,000</span>
						<span class="txt01">구매하기</span>
					</div>
				</a></li>
				<li><a href="javascript:GotoOrder_ServiceStop(50000);">
					<div>
						<span class="price">50,000</span>
						<span class="txt01">구매하기</span>
					</div>
				</a></li>
				<li><a href="javascript:GotoOrder_ServiceStop(100000);">
					<div>
						<span class="price">100,000</span>
						<span class="txt01">구매하기</span>
					</div>
				</a></li>
				<li><a href="javascript:GotoOrder_ServiceStop(200000);">
					<div>
						<span class="price">200,000</span>
						<span class="txt01">구매하기</span>
					</div>
				</a></li>
			</ul>
			<p class="txt_info">GIFT CARD 대량 구매는 PC에서 하실 수 있습니다.</p><!--20140425 수정 ahana05-->
            @*20140923_GIFT CARD 메인 페이지 옐로페이 프로모션 배너 삭제 요청
			<div class="box_banner">
				<a href="http://mobile.gmarket.co.kr/Display/SpecialShopping?lcId=&sid=129459"><img src="http://image.gmarket.co.kr/challenge/EC/20140708_yelopay/m.jpg" alt="" /></a>
			</div>*@
			@*<div class="ly_noti">
				<div class="noti_area">
					<h2 class="h_noti"><em>Gift Card 서비스<br>업그레이드 중입니다.</em><br>더 나은 서비스로 찾아 뵙겠습니다.</h2>
					<p class="dsc_noti">Gift Card 등록, 확인/재발송 기능은 이용 가능합니다</p>
				</div>
			</div>            *@

		</div>
		
		<div class="gc_box_terms">
			<div class="box_title">
				<strong class="s_tit">GIFT CARD 이용안내</strong>
				<div class="r_cont"><a id="gc_btn_terms" class="btn_terms" href="javascript:void(0);">자세히</a></div>
			</div>
			<div id="iscroll_terms" class="gc_box_scroll">
				<ul class="list_terms"><!--20140425 수정 ahana05-->
					<li><span>개인 구매 회원, 개인 이딜러 회원만 구매하실 수 있습니다. (사업자, 외국인 회원 구매 불가)</span></li>
					<li><span>무통장 입금으로 만 구매 가능하며, 개인 당 구매 한도는 월 최대 100만원입니다. (경우에 따라 결제 수단이 변경될 수 있습니다.)</span></li>
					<li><span>구매한 Gift Card는 Smile Cash로 충전한 후 G마켓, 옥션, G9에서 상품 구매 시 결제 수단으로 사용하실 수 있습니다. (단, Smile Cash로 구매할 수 없는 상품이 있으니, 해당 상품의 결제 가능 수단을 꼭 확인해주세요.)</span></li>
					<li><span>Smile Cash전환 횟수는 하루 10회로 제한되어 있으며, 10회 초과 시 고객 센터에 전환을 요청하셔야 합니다.</span></li>
					<li><span>2가지 방법(G마켓 ID, 휴대폰 전송)으로 구매 및 선물 하실 수 있으며, 원하시는 날짜로 예약 발송하실 수 있습니다. (지류 및 플라스틱 카드 판매는 당분간 중지되오니 양해 부탁 드립니다.)</span></li>
					<li><span>휴대폰 전송으로 구매하신 경우  재발송은 [나의쇼핑정보] - [보낸 Gift Card] 에서 가능하며, 최대 3회까지 가능합니다.<br />> 3회 초과 및 수신자 변경을 원하실 경우 고객센터(1566-5701)에서 가능 하십니다.<br />> 이 때 발송하는 비용은 G마켓이 부담합니다. 단, 이미 Smile Cash로 충전된 경우엔 재발송 하실 수 없습니다.</span></li>
					<li><span>선물권 구매 후 유효기간 5년 이내 Smile Cash로 충전하지 않은 경우 고객센터(1566-5701)를 통해서 환불 받으실 수 있습니다(유효기간 경과 시 환불 불가). 다만, 이미 Smile Cash로 전환하신 경우 충전 금액의 최대 40%까지 출금 가능합니다.</span></li>
					<li><span>Gift Card는 재화 및 용역을 공급하는 경우가 아니므로 소득세법 제 163조 제 1항에 의해  현금영수증 및 세금계산서가<br />발행되지 않으며, 구매 영수증만 발행 가능합니다.</span></li>
					<li><span>본 기프트카드는 신한은행과 채무지급보증계약이 체결되어 있습니다.</span></li> 
					<li><span>Gift Card에 대한 더욱 자세한 정보는 고객센터(1566-5701)를 확인해주세요.</span></li>
				</ul>
			</div>
		</div>
		
		<div class="gc_box_home b_nomarin" id="favoriteadd">
		@if (!PageAttr.IsIphone && !PageAttr.IsIpad && !PageAttr.IsIpod)
	{
		if (PageAttr.IsAndroidApp)
		{
			@:<a href="javascript:void(0);" onclick="javascript:sendScheme();"><span>Gift Card 홈 화면에 바로가기 추가</span></a>
		}
		else if (!PageAttr.IsAndroidApp && PageAttr.IsAndroid)
		{
			@:<a href="javascript:void(0);" onclick="javascript:checkApplicationInstall();"><span>Gift Card 홈 화면에 바로가기 추가</span></a>
		}
	}
		</div>
		<!-- SNS공유하기 레이어 -->
		<div class="share_sns" id="layer_sns">
			<h4 class="tit">공유하기</h4>
			<div class="sns">
				<a href="javascript:CheckPc(MobileSnsUtil.snsType().KAKAOTALK);" class="cco" id="SnsKakaoTalk">카카오톡</a>
				<a href="javascript:ShareTo(MobileSnsUtil.snsType().FACEBOOK);" class="face">페이스북</a>
				<a href="javascript:ShareTo(MobileSnsUtil.snsType().TWITTER);" class="twt">트위터</a>
				<a href="javascript:ShareTo(MobileSnsUtil.snsType().KAKAOSTORY);" class="ccos">카카오스토리</a>
			</div>
			<a href="javascript:void(0);" class="close_sns" onclick="popBlockUI('layer_sns');return false;">닫기</a>
		</div>
		<!-- SNS공유하기 레이어 -->
        <!-- GIFT CARD 이용안내 -->
		<div id="gc_layer_info" class="gc_layer gc_lay_info">
			<div class="ly_tit">
				<h4>GIFT CARD 이용안내</h4>
			</div>
			<div class="cont">
				<h5>구매하기는 PC 를 이용해 주세요.</h5>
				<p>등록하기,확인/재발송은 <br>Mobile과 PC에서 모두 이용가능합니다.</p>
				<div class="gc_set_btn">
					<a class="gc_btn03" href="GiftCardRegist"><span>등록하기</span></a>
					<a class="gc_btn03" href="GiftCardListSend"><span>확인/재발송</span></a>
				</div>
			</div>
			<a class="btn_close" href="#" onclick="popPositMid('gc_layer_info'); return false;"><span>레이어닫기</span></a>
		</div>
		<!-- //GIFT CARD 이용안내 -->
	</div>
	@Html.Hidden("orderprice", "")
	@Html.Hidden("appyn", "N")
	@Html.Hidden("goods_type", "online_token")
@{Html.EndForm();}
	<!-- //CONTENT -->
@*@section css
{
	<link rel="stylesheet" type="text/css" href="@Urls.StyleUrl/320/GiftCard/giftcard.css?v=7"/>
}

@section scripts
{
	<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/giftcard.js?ver=1"></script>
	<script type="text/javascript">
		window.onload = function () {
			setTimeout(function () {
				window.scrollTo(0, 1)
			}, 100);
		}
//		$(document).ready(function () {
//			gc_msg_sel();
//			gc_terms();
//		});
	</script>
}*@
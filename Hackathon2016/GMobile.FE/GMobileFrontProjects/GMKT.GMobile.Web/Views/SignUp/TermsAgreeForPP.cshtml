@{
    Layout = null;
	string fromWhere = ViewBag.FromWhere;
	string signUpUrl = Urls.MobileWebUrlSecure + "/SignUp" + (String.IsNullOrEmpty(fromWhere) == true ? "" : "?fromWhere=" + fromWhere);	
}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">
<head>
<meta http-equiv="content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />
<meta http-equiv="Cache-Control" content="max-age=0" />
<meta name="format-detection" content="telephone=no" />
<title>Gmarket</title>
<link rel="stylesheet" type="text/css" href="@Urls.StyleUrlV2/join.css" />
<link rel="stylesheet" type="text/css" href="@Urls.StyleUrlV2/common.css" />
<script type="text/javascript" src="@Urls.ScriptUrl/js/mobile/main/common/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="@Urls.ScriptUrl/mobile/js/front_v4.js?v=4"></script>
<script type="text/javascript">
	window.onload = function () {
		setTimeout(function () {
			window.scrollTo(0, 1)
		}, 100);
	}
</script>
</head>
<body>

<!-- WRAPPER -->
<div id="wrap">
	
	<!-- SKIP NAVI -->
	<div class="hp">
		<a href="#content">본문 바로가기</a>
	</div>
	<!-- //SKIP NAVI -->

	<!-- HEADER -->
	<div class="join_head">
		<h1><a href="@Urls.MobileWebUrl"><span class="sp_join">Gmarket</span> <span class="txt">회원가입</span></a></h1>
		<ul class="join_status">
		<li>1 가입</li>
		<li class="selected">2 약관동의</li>
		<li>3 정보입력</li>
		<li>4 가입완료</li>
		</ul>
	</div>
	<!-- //HEADER -->

	<hr />
	
	<!-- CONTENT -->
	<div id="content" class="ctns">
		<form method="post" name="agreeForm" id="agreeForm" action>
		<input type="hidden" name="hidCustType" id="hidCustType" value="PP"> <!--  CustType-->
		<input type="hidden" name="hidMethodType" id="hidMethodType" value="S"><!-- MethodType  -->
		<input type="hidden" name="hidFromWhere" id="hidFromWhere" value="@(String.IsNullOrEmpty(fromWhere) ? String.Empty : fromWhere)"><!-- fromWhere  -->
		<div class="join_cnt">
			<div class="agree_cnt">
				<div class="agree_all">
					<div class="agree_chkbx">
						<input type="checkbox" name="all_agree" id="all_agree" class="inp_chk v2">
						<label for="all_agree" class="chk_label">전체동의</label>
					</div>
				</div>
				<div class="cnt_box">
					<div class="agr_group">
						<h2 class="join_subtit">필수 동의항목</h2>
						<div class="agree_chkbx">
							<input type="checkbox" name="agree_chk" id="agree_chk1" class="inp_chk">
							<label for="agree_chk1" class="chk_label">G마켓 구매회원 약관</label>
							<a href="@Urls.MMyGUrl/Service" @if(!PageAttr.IsApp){<text>target="_blank"</text>} class="btn_agree">약관 전체보기</a>
						</div>
						<div class="agree_chkbx">
							<input type="checkbox" name="agree_chk" id="agree_chk2" class="inp_chk">
							<label for="agree_chk2" class="chk_label">전자금융서비스 이용약관</label>
							<a href="http://member2.gmarket.co.kr/TermsPolicy/FinanceTermsPolicy" @if(!PageAttr.IsApp){<text>target="_blank"</text>} class="btn_agree">약관 전체보기</a>
						</div>
						<div class="agree_chkbx">
							<input type="checkbox" name="agree_chk" id="agree_chk3" class="inp_chk">
							<label for="agree_chk3" class="chk_label">개인정보 수집 및 이용</label>
						</div>
					</div>
					<div class="agr_group">
						<h2 class="join_subtit">선택 동의항목</h2>
						<div class="agree_chkbx">
							<input type="checkbox" name="G9JoinYN" id="agree_chk6" class="inp_chk">
							<label for="agree_chk6" class="chk_label">G9 구매회원 이용약관</label>
							<a href="http://www.g9.co.kr/Member/MemberShip/MemberShipAgreement" @if(!PageAttr.IsApp){<text>target="_blank"</text>} class="btn_agree">약관 전체보기</a>
						</div>
						<div class="agree_chkbx">
							<input type="checkbox" name="PersonalInfoThirdPartySupportAgrYN" id="agree_chk7" class="inp_chk">
							<label for="agree_chk7" class="chk_label">개인정보 제3자 제공동의</label>
						</div>
						<div class="agree_chkbx">
							<input type="checkbox" name="PersonalInfoCollectUseAgrYN" id="agree_chk8" class="inp_chk">
							<label for="agree_chk8" class="chk_label">개인정보 수집 및 이용</label>
						</div>
						<div class="agree_chkbx">
							<span class="inp_wrap">
								<input type="checkbox" name="SmsRcvYn" id="agree_chk9" class="inp_chk">
								<label for="agree_chk9" class="chk_label">쇼핑 이메일 수신</label>
							</span>
							<span class="inp_wrap">
								<input type="checkbox" name="ERcvYn" id="agree_chk10" class="inp_chk">
								<label for="agree_chk10" class="chk_label">쇼핑 SMS 수신</label>
							</span>
							<p class="agree_info">할인쿠폰, 특가상품 이벤트정보를 받아보세요! <br />상품구매 관련 내용은 수신동의 여부와 관계없이 발송됩니다.</p>
						</div>
					</div>
				</div>
				<p class="info_txt">선택 항목에 동의하지 않으셔도 일반적인 서비스는 이용 가능합니다. <br />가입은 14세 이상 고객만 가능합니다.</p>
				<ul class="btn_bx">
				<li><a href="@signUpUrl" class="btn btn_gray">처음으로</a></li>
				<li><input type="button" title="회원가입" value="동의하고 회원가입" class="btn btn_blue" onclick="chkAgreeForm()"></li>
				</ul>
				<div class="agr_pointbx">
					<h3 class="point_tit">약관 중요사항 고지</h3>
					<button type="button" class="btn_more">전체보기 <span class="blind">열기</span></button>
					<div class="point_artwrap">
						<p class="agr_txt">약관전문은 위의 이용약관 항목에 약관전체보기로 전문이 게시되어 있습니다.</p>
						<iframe src="TermsAgreeSummary" frameborder="0" scrolling="no"></iframe>
					</div>
				</div>
			</div>
		</div>
		</form>
	</div>
	<!-- //CONTENT -->
	<hr />

	<!-- FOOTER -->
	
	<!-- //FOOTER -->

</div>
<!-- //WRAPPER -->

</body>
</html>
<script type="text/javascript">
	$('.cnt_box input').click(function () {//전체 체크되는건 front_v4.js에 정의되어있음
		var chk = $(this).is(':checked');
		if (!chk) $('.agree_all input').prop('checked', false);
	});

	$('.cnt_box input').eq(5).click(function () {
		var chk = $(this).is(':checked');
		var emailChk = $('.cnt_box input').eq(6).is(':checked');
		var smsChk = $('.cnt_box input').eq(7).is(':checked');

		if (!chk && (emailChk || smsChk)) {
			if(confirm("쇼핑 이메일/SMS수신 동의시에는 (선택 항목) 개인정보 수집 및 이용 항목도 같이 동의하셔야 합니다.")){
				$(this).prop('checked', true);
			}
		}
	});

	$('.cnt_box .inp_wrap input').click(function () {
		var chk = $(this).is(':checked');
		var agreeChk = $('.cnt_box input').eq(5).is(':checked');

		if (chk && !agreeChk) {
			if (confirm("쇼핑 이메일/SMS수신 동의시에는 (선택 항목) 개인정보 수집 및 이용 항목도 같이 동의하셔야 합니다.")) {
				$('.cnt_box input').eq(5).prop('checked', true);
			}
		}
	});

	var chkAgreeForm = function () {

		if (!$('.cnt_box input').eq(0).is(':checked')) {
			alert("G마켓 회원가입을 위해 필수 동의항목에 모두 동의해주시기 바랍니다.");
			return;
		}

		if (!$('.cnt_box input').eq(1).is(':checked')) {
			alert("G마켓 회원가입을 위해 필수 동의항목에 모두 동의해주시기 바랍니다.");
			return;
		}

		if (!$('.cnt_box input').eq(2).is(':checked')) {
			alert("G마켓 회원가입을 위해 필수 동의항목에 모두 동의해주시기 바랍니다.");
			return;
		}

		$('#agreeForm').attr('action', 'SignUpForm').submit();
	}

</script>